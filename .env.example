# IBKR Flex Query API Configuration
# Copy this file to .env and fill in your actual values

# Flex Query Token (from IBKR Client Portal)
IBKR_FLEX_TOKEN=your_flex_token_here

# Flex Query ID (from IBKR Client Portal)
IBKR_QUERY_ID=your_query_id_here

# USD to CNY exchange rate (fallback rate if API fails)
USD_CNY_RATE=7.2

# Use dynamic exchange rates (true/false)
# If true, fetches actual rates from API for each transaction date
# If false, uses the fixed USD_CNY_RATE above
USE_DYNAMIC_EXCHANGE_RATES=true

# Output directory for reports (optional, defaults to ./data/output)
OUTPUT_DIR=./data/output

# First year of trading (optional, used for --all parameter)
# When not specifying date parameters, data from this year to current year will be fetched
FIRST_TRADE_YEAR=2020

# ==============================================================================
# Trading API Configuration (for Stop-Loss Manager)
# ==============================================================================

# IBKR Gateway/TWS Connection
# Host address for TWS or IB Gateway
IBKR_GATEWAY_HOST=127.0.0.1

# Port number:
# - 7497: TWS Paper Trading
# - 7496: TWS Live Trading
# - 4002: IB Gateway Paper Trading
# - 4001: IB Gateway Live Trading
IBKR_GATEWAY_PORT=7497

# Client ID (must be unique, any positive integer)
IBKR_CLIENT_ID=1

# Default trailing stop percentage (e.g., 5.0 means 5% below peak price)
DEFAULT_TRAILING_STOP_PERCENT=5.0

# ==============================================================================
# Email Notification Configuration (optional)
# ==============================================================================

# SMTP Server Configuration
# Examples:
# - Gmail: smtp.gmail.com, port 587
# - Outlook: smtp-mail.outlook.com, port 587
# - QQ Mail: smtp.qq.com, port 587
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your_email@gmail.com
SMTP_PASSWORD=your_app_password_here

# Email addresses
EMAIL_FROM=your_email@gmail.com
EMAIL_TO=recipient1@example.com,recipient2@example.com

# Use TLS encryption (true/false)
SMTP_USE_TLS=true
